jQuery(document).ready(function(c){var b={init:function(){this.clone();this.add();this.remove();this.reindex();},clone:function(d,e){clone=c("#cnbh-period").clone(true);
clone.find("input").each(function(){var f=c(this).attr("name");f=f.replace(/(\[day\]\[period\])/,"["+parseInt(d)+"]["+parseInt(e)+"]");c(this).attr("name",f).attr("id",f).addClass("cn-timepicker").timepicker(cnbhDateTimePickerOptions).prop("readonly",true);
});clone.find(".button").attr("data-day",d).attr("data-period",e);clone.removeAttr("id").addClass("cnbh-day-"+d).toggle();return clone;},add:function(){c(".cnbh-add-period").on("click",function(){day=c(this).attr("data-day");
row=c(this).closest("tr");data=c("#cnbh-day-"+day).cnCount(1).data();row.after(b.clone(day,data.count));b.reindex(day);});},remove:function(){c(".cnbh-remove-period").on("click",function(){day=c(this).attr("data-day");
row=c(this).closest("tr");data=c("#cnbh-day-"+day).cnCount(-1).data();row.remove();b.reindex(day);});},reindex:function(d){c(".cnbh-day-"+d).each(function(e,f){c(f).find("input").each(function(){var g=c(this).attr("name");
g=g.replace(/\[(\d+)\]\[(\d+)\]/,"["+parseInt(d)+"]["+parseInt(e)+"]");c(this).attr("name",g).attr("id",g);});});}};b.init();cnbhDateTimePickerOptions.onSelect=function(){c(this)[a(this.value)]("x");
};c(".cn-timepicker").timepicker(cnbhDateTimePickerOptions).prop("readonly",true);function a(d){return d?"addClass":"removeClass";}c(document).on("mousemove",".x",function(d){c(this)[a(this.offsetWidth-18<d.clientX-this.getBoundingClientRect().left)]("onX");
}).on("click",".onX",function(){c(this).removeClass("x onX").val("");});c.fn.cnCount=function(d){return this.each(function(){var e=c(this).data();if(!("count" in e)){e.count=0;
}e.count+=d;});};});